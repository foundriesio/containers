"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[1456],{"./public/app/features/org/SelectOrgPage.tsx":(e,a,t)=>{t.r(a),t.d(a,{SelectOrgPage:()=>v,default:()=>h});t("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");var n,r=t("./.yarn/__virtual__/react-redux-virtual-7ad20a440e/0/cache/react-redux-npm-7.2.6-134f5ed64d-0bf142ce0d.zip/node_modules/react-redux/es/index.js"),c=t("./.yarn/__virtual__/react-use-virtual-00326e70ba/0/cache/react-use-npm-17.3.2-a032cbeb01-7379460f51.zip/node_modules/react-use/esm/useEffectOnce.js"),i=t("./packages/grafana-runtime/src/index.ts"),s=t("./packages/grafana-ui/src/index.ts"),o=t("./public/app/core/components/Page/Page.tsx"),g=t("./public/app/features/org/state/actions.ts"),u=t("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");const d={main:{icon:"grafana",subTitle:"Preferences",text:"Select active organization"},node:{text:"Select active organization"}},l={setUserOrganization:g.Q$,getUserOrganizations:g.JE},p=(0,r.connect)((e=>({userOrgs:e.organization.userOrgs})),l),v=e=>{let{setUserOrganization:a,getUserOrganizations:t,userOrgs:r}=e;return(0,c.Z)((()=>{t()})),(0,u.jsx)(o.Z,{navModel:d,children:(0,u.jsx)(o.Z.Contents,{children:(0,u.jsxs)("div",{children:[n||(n=(0,u.jsx)("p",{children:"You have been invited to another organization! Please select which organization that you want to use right now. You can change this later at any time."})),(0,u.jsx)(s.HorizontalGroup,{wrap:!0,children:r&&r.map((e=>(0,u.jsx)(s.Button,{icon:"signin",onClick:()=>(async e=>{await a(e.orgId),window.location.href=i.config.appSubUrl+"/"})(e),children:e.name},e.orgId)))})]})})})},h=p(v)},"./public/app/features/org/state/actions.ts":(e,a,t)=>{t.d(a,{FV:()=>s,JE:()=>u,Q$:()=>o,RF:()=>i,Yi:()=>g});var n=t("./packages/grafana-runtime/src/index.ts"),r=t("./public/app/core/actions/index.ts"),c=t("./public/app/features/org/state/reducers.ts");function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getBackendSrv:n.getBackendSrv};return async a=>{const t=await e.getBackendSrv().get("/api/org");return a((0,c.jR)(t)),t}}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getBackendSrv:n.getBackendSrv};return async(a,t)=>{const n=t().organization.organization;await e.getBackendSrv().put("/api/org",{name:n.name}),a((0,r.H7)(n.name)),a(i(e))}}function o(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{getBackendSrv:n.getBackendSrv};return async t=>{const n=await a.getBackendSrv().post("/api/user/using/"+e);t((0,r.H7)(n.name))}}function g(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{getBackendSrv:n.getBackendSrv};return async t=>{t(o((await a.getBackendSrv().post("/api/orgs/",e)).orgId))}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getBackendSrv:n.getBackendSrv};return async a=>{const t=await e.getBackendSrv().get("/api/user/orgs");return a((0,c.IM)(t)),t}}}}]);
//# sourceMappingURL=SelectOrgPage.a87fd0ce1ff28bec28a3.js.map